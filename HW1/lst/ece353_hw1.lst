


ARM Macro Assembler    Page 1 


    1 00000000         ; Filename:     ece353_hw1
    2 00000000         ; Author:       Shyamal Anadkat 
    3 00000000         ; Description:  
    4 00000000         
    5 00000000                 export           hw1
    6 00000000                 export           WS2812B_LEDS
    7 00000000                 export           UPDATE_LEDS
    8 00000000                 import           init_leds
    9 00000000                 import           rotate_mod_leds
   10 00000000                 import           write_leds
   11 00000000         ;*******************************************************
                       ************************* 
   12 00000000         ; SRAM
   13 00000000         ;*******************************************************
                       ************************* 
   14 00000000                 AREA             SRAM, READWRITE
   15 00000000 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00    WS2812B_LEDS
                               SPACE            32          ; Space for 32-bit 
                                                            commands (24-bits u
                                                            sed) for 8 NeoPixel
                                                            s
   16 00000020 00 00 00 
              00       UPDATE_LEDS
                               SPACE            4
   17 00000024                 align
   18 00000024         
   19 00000024         
   20 00000024         ;*******************************************************
                       ************************* 
   21 00000024         ; Constant Variables (FLASH) Segment
   22 00000024         ;*******************************************************
                       ************************* 
   23 00000024                 AREA             FLASH, CODE, READONLY
   24 00000000                 align
   25 00000000         
   26 00000000         ;****************************************
   27 00000000         ; Rename registers for coad readability *
   28 00000000         ;****************************************
   29 00000000        0 
                       LEDS    RN               R0
   30 00000000        1 
                       UPDATE  RN               R1
   31 00000000        2 
                       GPIO    RN               R2
   32 00000000         
   33 00000000         ;*******************************************************
                       ************************* 
   34 00000000         ; function hw1
   35 00000000         ;  



ARM Macro Assembler    Page 2 


   36 00000000         ; Description: 
   37 00000000         ;  main
   38 00000000         ; Parameters:  
   39 00000000         ; Returns: 
   40 00000000         ;*******************************************************
                       ************************* 
   41 00000000         hw1     PROC
   42 00000000         
   43 00000000         ;Setup argument to pass to init_leds
   44 00000000 480F            LDR              LEDS, =(WS2812B_LEDS)
   45 00000002 4910            LDR              UPDATE, =(UPDATE_LEDS)
   46 00000004         
   47 00000004         ;call init_leds routine 
   48 00000004 F7FF FFFE       BL               init_leds
   49 00000008 F04F 0108       MOV              R1, #8
   50 0000000C         
   51 0000000C         infinite_loop
   52 0000000C         
   53 0000000C         ;check if update_leds is non-zero to continue 
   54 0000000C 490D            LDR              UPDATE, =(UPDATE_LEDS)
   55 0000000E F04F 0300       MOV              R3, #0
   56 00000012 428B            CMP              R3, UPDATE
   57 00000014 D0FA            BEQ              infinite_loop
   58 00000016         
   59 00000016 B672            CPSID            I
   60 00000018         
   61 00000018         ;set update-leds to 0 
   62 00000018 F240 0900 
              F2C0 0900        MOV32            R9, #0x00000000
   63 00000020 F8C1 9000       STR              R9, [UPDATE]
   64 00000024         
   65 00000024         ;call rotate_mod_leds
   66 00000024 F04F 0108       MOV              R1, #8
   67 00000028 F7FF FFFE       BL               rotate_mod_leds
   68 0000002C         
   69 0000002C F247 32FC 
              F2C4 0200        MOV32            GPIO, #0x400073FC ;3rd arg 
   70 00000034 B40F            PUSH             {R0-R3}
   71 00000036 F7FF FFFE       BL               write_leds
   72 0000003A BC0F            POP              {R0-R3}
   73 0000003C         
   74 0000003C B662            CPSIE            I
   75 0000003E E7E5            B                infinite_loop
   76 00000040         
   77 00000040                 ENDP
   78 00000040                 align
   79 00000040         
   80 00000040         
   81 00000040                 END
              00000000 
              00000000 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\obj\ece353_hw1.d -o.\obj\ece353_hw1.o -IC:\ECE353\HW1\RTE\_HW
1 -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\5.0.1\CMSIS\Include -IC:\Keil_v5\ARM\PACK\Kei
l\TM4C_DFP\1.1.0\Device\Include\TM4C123 --predefine="__EVAL SETA 1" --predefine
="__MICROLIB SETA 1" --predefine="__UVISION_VERSION SETA 522" --predefine="_RTE
_ SETA 1" --predefine="TM4C123GH6PM SETA 1" --list=.\lst\ece353_hw1.lst ece353_
hw1.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

SRAM 00000000

Symbol: SRAM
   Definitions
      At line 14 in file ece353_hw1.s
   Uses
      None
Comment: SRAM unused
UPDATE_LEDS 00000020

Symbol: UPDATE_LEDS
   Definitions
      At line 16 in file ece353_hw1.s
   Uses
      At line 7 in file ece353_hw1.s
      At line 45 in file ece353_hw1.s
      At line 54 in file ece353_hw1.s

WS2812B_LEDS 00000000

Symbol: WS2812B_LEDS
   Definitions
      At line 15 in file ece353_hw1.s
   Uses
      At line 6 in file ece353_hw1.s
      At line 44 in file ece353_hw1.s

3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

FLASH 00000000

Symbol: FLASH
   Definitions
      At line 23 in file ece353_hw1.s
   Uses
      None
Comment: FLASH unused
hw1 00000000

Symbol: hw1
   Definitions
      At line 41 in file ece353_hw1.s
   Uses
      At line 5 in file ece353_hw1.s
Comment: hw1 used once
infinite_loop 0000000C

Symbol: infinite_loop
   Definitions
      At line 51 in file ece353_hw1.s
   Uses
      At line 57 in file ece353_hw1.s
      At line 75 in file ece353_hw1.s

3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

init_leds 00000000

Symbol: init_leds
   Definitions
      At line 8 in file ece353_hw1.s
   Uses
      At line 48 in file ece353_hw1.s
Comment: init_leds used once
rotate_mod_leds 00000000

Symbol: rotate_mod_leds
   Definitions
      At line 9 in file ece353_hw1.s
   Uses
      At line 67 in file ece353_hw1.s
Comment: rotate_mod_leds used once
write_leds 00000000

Symbol: write_leds
   Definitions
      At line 10 in file ece353_hw1.s
   Uses
      At line 71 in file ece353_hw1.s
Comment: write_leds used once
3 symbols
350 symbols in table
